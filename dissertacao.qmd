---
title: ""
format:
    pdf:
        include-in-header: config/preamble.tex
csl: config/abnt.csl
fontsize: 12pt
geometry: margin=1in
number-sections: true
---

```{r config}
#| include = FALSE
# opções
knitr::opts_chunk$set(
    out.width = "70%",
    echo = FALSE
)

# reprodutibilidade
set.seed(1)

# pacotes
library(kableExtra)
library(ggplot2)

# tema ggplot
tema = theme_classic() +
    theme(
        text = element_text(family = "serif")
    )
```

<!-- capa -->

\thispagestyle{empty}
\begin{center}
{\Large \MakeUppercase{\universidade\\ \campus\\ \curso}}
\end{center}
\vspace{1cm}
\begin{center}
{\Large \MakeUppercase{\nome\>\sobrenome}}
\end{center}
\vspace{5cm}
\begin{center}
\Large \MakeUppercase{\textbf{\titulo}}
\end{center}
\vspace{5cm}

\begin{center}
\uppercase{\cidade}\\ \ano
\end{center}

<!-- folha de rosto -->

\newpage
\thispagestyle{empty}
\setcounter{page}{1}

\begin{center}
{\Large \MakeUppercase{\nome\>\sobrenome}}

\vspace{6cm}

\Large \MakeUppercase{\textbf{\titulo}}

\normalsize

\vspace{3cm}
\end{center}

\hspace{7cm}{\begin{minipage}{8.5cm}{
\tipo\>apresentada ao \curso\>da \universidade, como requisito para a obtenção do título de \grau.\\

Orientador: \parbox[t]{6.0cm}{\orientador}}
\end{minipage}}

\vspace{3cm}

\begin{center}
\cidade\\
\ano
\end{center}

<!-- folha de aprovação -->

\newpage
\thispagestyle{empty}

\begin{center}
{\large \MakeUppercase{\nome\>\sobrenome}}

\vspace{1cm}

\Large \MakeUppercase{\textbf{\titulo}}

\normalsize

\vspace{1cm}
\end{center}

\hspace{7.5cm}{\begin{minipage}{8.5cm}{
\tipo\>apresentada ao \curso\>da \universidade\>como requisito para a obtenção do título de \grau.\\}
\end{minipage}}

\vspace{1cm}

\hspace{9cm} \uppercase{\textbf{Banca Examinadora}}

\vspace{1cm}
\begin{center}

\hspace{7cm}{\underline{\hspace{7cm}} \\}
\hspace{7cm}{\orientador \\}
\hspace{7cm}{\universidade}

\hspace{7cm}{\underline{\hspace{7cm}} \\}
\hspace{7cm}{\bancap \\}
\hspace{7cm}{\universidade}

\hspace{7cm}{\underline{\hspace{7cm}} \\}
\hspace{7cm}{\bancas \\}
\hspace{7cm}{\universidade}


\cidade, \dia\>de \mes\>de \ano.
\end{center}

<!-- resumo -->

\newpage
\thispagestyle{empty}
\begin{singlespace}
\noindent \MakeUppercase{\sobrenome}, \nome. \textbf{\titulo}. \ano. xx folhas. \tipo\>(\curso) -- \universidade, \cidade, \ano.

\vspace{1pc}
\begin{center}
\textbf{RESUMO}
\end{center}
\vspace{1pc}

\noindent
No máximo 500 palavaras em espaço simples e sem parágrafos. Deve apresentar de forma concisa os objetivos, metodologia e os resultado alcançados, utilizar o verbo na voz ativa. Espaçamento simples, sem recuo de parágrafos.

\vspace{2pc}
\noindent
{\textbf{Palavras-chave}:}  Palavra 1. Palavra 2. Palavra 3. Palavra 4. Palavra 5.

\end{singlespace}

<!-- abstract -->

\newpage
\thispagestyle{empty}

\begin{singlespace}
\noindent \MakeUppercase{\sobrenome}, \nome. \textbf{\tituloingles}. \ano. xx folhas. \tipoingles\>(\cursoingles) -- \universidade, \cidade, \ano.

\vspace{1pc}
\begin{center}
\textbf{ABSTRACT}
\end{center}
\vspace{1pc}

\noindent 
Tradução do resumo.

\vspace{2pc}
\noindent
{\textbf{Keywords}:}  Tradução das palavras chave.
\end{singlespace}

<!-- sumário -->

\newpage
\thispagestyle{empty}
\begin{flushleft}
\begingroup
\let\clearpage\relax

\newpage
\begin{center}
\MakeUppercase{\textbf{Sumário}}
\end{center}
\begin{center}
\tableofcontents
\end{center}
\end{flushleft}

<!-- lista de figuras -->

\newpage
\thispagestyle{empty}
\begin{center}
\MakeUppercase{\textbf{LISTA DE FIGURAS}}
\end{center}
\begin{center}
\listoffigures
\end{center}

<!-- lista de tabelas -->

\newpage
\begin{center}
\MakeUppercase{\textbf{LISTA DE TABELAS}}
\end{center}
\begin{center}
\listoftables
\end{center}
\thispagestyle{empty}
\endgroup

<!-- elementos textuais -->

\newpage
# INTRODUÇÃO {-}

Neste trabalho, 

Séries temporais hierárquicas são aquelas que podem ser agregadas ou desagregadas naturalmente em uma estrutura. Para ilustrar, tome a série do Pib brasileiro. Ela pode ser desagregada por estado, que por sua vez, podem ser desagregadas por município.

```{r diagrammer_intro}

# total
node_total = DiagrammeR::create_node_df(
    n = 1,
    label = "Total",
    type = "total"
)

# estados
node_es = DiagrammeR::create_node_df(
    n = 4,
    label = c(
        "Espírito Santo",
        "Vitória",
        "Vila Velha",
        "..."
    ),
    rank = c(
        "estados",
        rep("municipios", 3)
    ),
    type = "hierarquia",
    estado = "ES",
    width = 2
)

node_rj = DiagrammeR::create_node_df(
    n = 4,
    label = c(
        "Rio de Janeiro",
        "Rio de Janeiro",
        "Duque de Caxias",
        "..."
    ),
    rank = c(
        "estados",
        rep("municipios", 3)
    ),
    type = "hierarquia",
    estado = "RJ",
    width = 2
)

node_sp = DiagrammeR::create_node_df(
    n = 4,
    label = c(
        "São Paulo",
        "São Paulo",
        "Taubaté",
        "..."
    ),
    rank = c(
        "estados",
        rep("municipios", 3)
    ),
    type = "hierarquia",
    estado = "SP",
    width = 2
)

node_etc = DiagrammeR::create_node_df(
    n = 4,
    label = c(
        "...",
        "..."
    ),
    rank = c(
        "estados",
        "municipios"
    ),
    type = "hierarquia",
    estado = "etc",
    width = 2
)

# combinar nodes
nodes = DiagrammeR::combine_ndfs(
    node_total,
    node_es,
    node_rj,
    node_sp,
    node_etc
)

# edges
edge_estados = DiagrammeR::create_edge_df(
    from = 1,
    to = nodes[which(nodes$rank == "estados"), "id"],
    arrowhead = "none",
    color = azul
)

edge_es = DiagrammeR::create_edge_df(
    from = nodes[which(nodes$rank == "estados" & nodes$estado == "ES"), "id"],
    to = nodes[which(nodes$rank == "municipios" & nodes$estado == "ES"), "id"],
    arrowhead = "none",
    color = azul
)

edge_sp = DiagrammeR::create_edge_df(
    from = nodes[which(nodes$rank == "estados" & nodes$estado == "SP"), "id"],
    to = nodes[which(nodes$rank == "municipios" & nodes$estado == "SP"), "id"],
    arrowhead = "none",
    color = azul
)

edge_rj = DiagrammeR::create_edge_df(
    from = nodes[which(nodes$rank == "estados" & nodes$estado == "RJ"), "id"],
    to = nodes[which(nodes$rank == "municipios" & nodes$estado == "RJ"), "id"],
    arrowhead = "none",
    color = azul
)

edge_sp = DiagrammeR::create_edge_df(
    from = nodes[which(nodes$rank == "estados" & nodes$estado == "SP"), "id"],
    to = nodes[which(nodes$rank == "municipios" & nodes$estado == "SP"), "id"],
    arrowhead = "none",
    color = azul
)

edge_etc = DiagrammeR::create_edge_df(
    from = nodes[which(nodes$rank == "estados" & nodes$estado == "etc"), "id"],
    to = nodes[which(nodes$rank == "municipios" & nodes$estado == "etc"), "id"],
    arrowhead = "none",
    color = azul
)

edges = DiagrammeR::combine_edfs(
    edge_es,
    edge_sp,
    edge_rj,
    edge_etc
)

graph = DiagrammeR::create_graph(
  nodes,
  edges,
  attr_theme = "tb")

DiagrammeR::render_graph(graph)
```


# REVISÃO DA LITERATURA




\newpage
# REFERÊNCIAS {-}

\bibliography{config/bib.bib}
